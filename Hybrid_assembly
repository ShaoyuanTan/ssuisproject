module load java
module load samtools

cat illumina_reads.fastq > illumina.fastq #cat illumina reads into one fastq file
bwa index minion.contigs.fasta # index contigs file from MinION assembly
bwa mem minion.contigs.fasta illumina.fastq > hybrid.sam # mapping illumina reads to minion contigs
samtools view -b hybrid.sam > hybrid.bam # change sam file to bam file
samtools sort hybrid.bam -o hybrid_sorted.bam # sort bam file
samtools index hybrid_sorted.bam # index bam file
java -Xmx16G -jar pilon-1.22.jar --genome minion.contigs.fastq --bam hybrid_sorted.bam --outdir folder for hybrid assembly # generate a hybrid assembly
